@using Subsips_2.Areas.CPanel.Models.Order.ViewModel;
@model List<OrdersModelView>
@{
    Layout = "~/Areas/Cpanel/Views/Shared/_Layout.cshtml";
}


@section Style {
    <link href="~/css/cpanel/coffee_cup/add.css" rel="stylesheet" />

}

<div class="container mt-4">
    <div class="row mb-3">
        <div class="col-12">
            <form method="post" class="d-flex flex-wrap align-items-center gap-2">
                <div class="form-group mb-0">
                    <label for="phoneNumberFilter" class="form-label">شماره مشتری:</label>
                    <input type="text" name="phoneNumber" id="phoneNumberFilter" class="form-control" placeholder="شماره مشتری را وارد کنید">
                </div>
                <div class="form-group mb-0">
                    <label for="orderDateFilter" class="form-label">نمایش تاریخ امروز</label>
                    <input type="checkbox" name="todayOrder" id="orderDateFilter" class="form-control">
                </div>
                <div class="form-group mb-0">
                    <label for="orderStatusFilter" class="form-label">وضعیت سفارش:</label>
                    <select name="orderStatus" id="orderStatusFilter" class="form-select">
                        <option value=""></option>
                        <option value="Pending">در انتظار</option>
                        <option value="Confirmed">تایید شده</option>
                        <option value="Ready">آماده</option>
                        <option value="Rejected">رد شده</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary align-self-end">فیلتر</button>
            </form>
        </div>
    </div>

    <!-- Orders Table -->
    <div class="row">
        <div class="col-12">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">تاریخ ثبت</th>
                            <th scope="col">نام (مشتری)</th>
                            <th scope="col">شماره (مشتری)</th>
                            <th scope="col">قهوه</th>
                            <th scope="col">وضعیت</th>
                            <th scope="col">عملیات</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <th scope="row"></th>
                                <td>@item.CreateOrderDate.ToString("yyyy/MM/dd - hh:mm")</td>
                                <td>@item.CustomerFullName</td>
                                <td>@item.CustomerPhoneNumber</td>
                                <td>@item.CoffeeName</td>
                                <td>@item.OrderStatus</td>
                                <td>
                                    <button onclick="sendRequest('Confirm', '@(item.OrderId)')" class="btn btn-success btn-sm">تایید</button>
                                    <button onclick="sendRequest('Ready', '@(item.OrderId)')" class="btn btn-info btn-sm">آماده</button>
                                    <button onclick="sendRequest('Reject', '@(item.OrderId)')" class="btn btn-danger btn-sm">رد</button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>



@section Scripts {
    <script src="~/js/cpanel/order/index.js"></script>
}
